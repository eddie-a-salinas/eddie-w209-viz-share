
console.log("in main_test.js ");

var getDeskWidth=function()
	{
	var desk_width=14;
	return desk_width;
	}

var eddie_func=function()
	{
	console.log("test eddie");
	}



var get_cong_to_year_map=function()
	{
	var cong_to_year_map={
	    "1": [
		"1789-05-16",
		"1791-03-03"
	    ],
	    "2": [
		"1791-11-15",
		"1793-03-02"
	    ],
	    "3": [
		"1794-01-02",
		"1795-03-03"
	    ],
	    "4": [
		"1795-06-13",
		"1797-03-03"
	    ],
	    "5": [
		"1797-05-23",
		"1799-03-02"
	    ],
	    "6": [
		"1799-12-24",
		"1801-03-03"
	    ],
	    "7": [
		"1801-03-04",
		"1803-03-03"
	    ],
	    "8": [
		"1803-10-20",
		"1805-03-03"
	    ],
	    "9": [
		"1805-12-17",
		"1807-03-03"
	    ],
	    "10": [
		"1807-10-28",
		"1809-11-25"
	    ],
	    "11": [
		"1809-03-07",
		"1811-03-03"
	    ],
	    "12": [
		"1811-11-12",
		"1813-03-03"
	    ],
	    "13": [
		"1813-05-31",
		"1815-03-03"
	    ],
	    "14": [
		"1815-12-19",
		"1817-03-03"
	    ],
	    "15": [
		"1817-12-11",
		"1819-03-03"
	    ],
	    "16": [
		"1819-12-21",
		"1821-03-03"
	    ],
	    "17": [
		"1821-12-19",
		"1823-03-03"
	    ],
	    "18": [
		"1823-12-22",
		"1825-03-03"
	    ],
	    "19": [
		"1825-03-07",
		"1827-03-03"
	    ],
	    "20": [
		"1827-12-04",
		"1829-03-03"
	    ],
	    "21": [
		"1829-03-07",
		"1831-03-03"
	    ],
	    "22": [
		"1831-12-15",
		"1833-03-02"
	    ],
	    "23": [
		"1833-12-02",
		"1835-03-03"
	    ],
	    "24": [
		"1835-12-16",
		"1837-03-03"
	    ],
	    "25": [
		"1837-03-07",
		"1839-03-03"
	    ],
	    "26": [
		"1839-12-11",
		"1841-03-03"
	    ],
	    "27": [
		"1841-03-05",
		"1843-03-03"
	    ],
	    "28": [
		"1843-12-04",
		"1845-03-03"
	    ],
	    "29": [
		"1845-03-06",
		"1847-03-03"
	    ],
	    "30": [
		"1847-12-06",
		"1849-03-03"
	    ],
	    "31": [
		"1849-03-07",
		"1851-03-03"
	    ],
	    "32": [
		"1851-03-05",
		"1853-03-03"
	    ],
	    "33": [
		"1853-03-15",
		"1855-03-03"
	    ],
	    "34": [
		"1855-12-14",
		"1857-03-03"
	    ],
	    "35": [
		"1857-03-05",
		"1859-03-03"
	    ],
	    "36": [
		"1859-03-05",
		"1861-03-02"
	    ],
	    "37": [
		"1861-03-05",
		"1863-03-03"
	    ],
	    "38": [
		"1863-02-01",
		"1865-03-03"
	    ],
	    "39": [
		"1865-03-10",
		"1867-03-02"
	    ],
	    "40": [
		"1867-03-04",
		"1869-03-03"
	    ],
	    "41": [
		"1869-03-04",
		"1871-03-03"
	    ],
	    "42": [
		"1871-03-04",
		"1873-03-03"
	    ],
	    "43": [
		"1873-03-07",
		"1875-03-03"
	    ],
	    "44": [
		"1875-03-09",
		"1877-03-03"
	    ],
	    "45": [
		"1877-03-06",
		"1879-03-03"
	    ],
	    "46": [
		"1879-03-18",
		"1881-03-03"
	    ],
	    "47": [
		"1881-03-14",
		"1883-03-03"
	    ],
	    "48": [
		"1883-12-03",
		"1885-03-03"
	    ],
	    "49": [
		"1885-03-11",
		"1887-03-03"
	    ],
	    "50": [
		"1887-12-05",
		"1889-03-02"
	    ],
	    "51": [
		"1889-03-07",
		"1891-03-03"
	    ],
	    "52": [
		"1891-12-08",
		"1893-03-03"
	    ],
	    "53": [
		"1893-04-10",
		"1895-03-02"
	    ],
	    "54": [
		"1895-12-02",
		"1897-03-03"
	    ],
	    "55": [
		"1897-03-15",
		"1899-03-03"
	    ],
	    "56": [
		"1899-12-04",
		"1901-03-02"
	    ],
	    "57": [
		"1901-03-08",
		"1903-03-04"
	    ],
	    "58": [
		"1903-11-09",
		"1905-03-03"
	    ],
	    "59": [
		"1905-12-04",
		"1907-12-11"
	    ],
	    "60": [
		"1907-12-02",
		"1909-03-03"
	    ],
	    "61": [
		"1909-03-15",
		"1911-03-04"
	    ],
	    "62": [
		"1911-04-04",
		"1913-03-04"
	    ],
	    "63": [
		"1913-03-13",
		"1915-03-04"
	    ],
	    "64": [
		"1915-12-06",
		"1917-03-03"
	    ],
	    "65": [
		"1917-03-08",
		"1919-03-03"
	    ],
	    "66": [
		"1919-05-19",
		"1921-03-03"
	    ],
	    "67": [
		"1921-03-07",
		"1923-03-03"
	    ],
	    "68": [
		"1923-12-03",
		"1925-03-03"
	    ],
	    "69": [
		"1925-03-05",
		"1927-03-04"
	    ],
	    "70": [
		"1927-12-05",
		"1929-03-03"
	    ],
	    "71": [
		"1929-04-15",
		"1931-03-03"
	    ],
	    "72": [
		"1931-12-07",
		"1933-03-01"
	    ],
	    "73": [
		"1933-03-06",
		"1934-06-18"
	    ],
	    "74": [
		"1935-01-03",
		"1936-06-20"
	    ],
	    "75": [
		"1937-01-05",
		"1938-06-16"
	    ],
	    "76": [
		"1939-01-03",
		"1941-01-02"
	    ],
	    "77": [
		"1941-01-03",
		"1942-12-04"
	    ],
	    "78": [
		"1943-01-06",
		"1944-12-19"
	    ],
	    "79": [
		"1945-01-03",
		"1946-08-02"
	    ],
	    "80": [
		"1947-01-03",
		"1948-08-07"
	    ],
	    "81": [
		"1949-01-03",
		"1951-01-02"
	    ],
	    "82": [
		"1951-01-03",
		"1952-07-05"
	    ],
	    "83": [
		"1953-01-03",
		"1954-12-01"
	    ],
	    "84": [
		"1955-01-05",
		"1956-07-27"
	    ],
	    "85": [
		"1957-01-03",
		"1958-08-24"
	    ],
	    "86": [
		"1959-01-07",
		"1960-09-01"
	    ],
	    "87": [
		"1961-01-03",
		"1962-10-13"
	    ],
	    "88": [
		"1963-01-03",
		"1964-10-03"
	    ],
	    "89": [
		"1965-01-04",
		"1966-10-22"
	    ],
	    "90": [
		"1967-01-10",
		"1968-10-11"
	    ],
	    "91": [
		"1969-01-03",
		"1970-12-31"
	    ],
	    "92": [
		"1971-01-21",
		"1972-10-18"
	    ],
	    "93": [
		"1973-01-03",
		"1974-12-20"
	    ],
	    "94": [
		"1975-01-14",
		"1976-10-01"
	    ],
	    "95": [
		"1977-01-04",
		"1978-10-14"
	    ],
	    "96": [
		"1979-01-15",
		"1980-12-15"
	    ],
	    "97": [
		"1981-01-05",
		"1982-12-22"
	    ],
	    "98": [
		"1983-01-03",
		"1984-10-12"
	    ],
	    "99": [
		"1985-01-03",
		"1986-10-17"
	    ],
	    "100": [
		"1987-01-06",
		"1988-10-21"
	    ],
	    "101": [
		"1989-01-03",
		"1990-10-27"
	    ],
	    "102": [
		"1991-01-03",
		"1992-10-08"
	    ],
	    "103": [
		"1993-01-05",
		"1994-12-01"
	    ],
	    "104": [
		"1995-01-04",
		"1996-10-03"
	    ],
	    "105": [
		"1997-01-07",
		"1998-12-19"
	    ],
	    "106": [
		"1999-01-06",
		"2000-12-15"
	    ],
	    "107": [
		"2001-01-03",
		"2002-11-19"
	    ],
	    "108": [
		"2003-01-07",
		"2004-12-08"
	    ],
	    "109": [
		"2005-01-04",
		"2006-12-09"
	    ],
	    "110": [
		"2007-01-04",
		"2008-12-11"
	    ],
	    "111": [
		"2009-01-06",
		"2010-12-22"
	    ],
	    "112": [
		"2011-01-05",
		"2013-01-01"
	    ],
	    "113": [
		"2013-01-03",
		"2014-12-16"
	    ],
	    "114": [
		"2015-01-06",
		"2016-12-10"
	    ],
	    "115": [
		"2017-01-03",
		"2018-12-21"
	    ],
	    "116": [
		"2019-01-03",
		"2020-05-21"
	    ]
	};
	return cong_to_year_map;
	}



///bin/echo "SELECT congress,chamber,MIN(CAST(rollnumber AS INT)) AS MIN_ROLL,MAX(CAST(rollnumber AS INT)) AS MAX_ROLL FROM rollcalls GROUP BY congress,chamber ORDER BY CAST(congress AS INT) ASC;" |sqlite3 ../data/cong_data.db  | tr "|" ","|sed -r "s/,/\",\"/g"| awk '{print "[\"" $0 "\"]," }'|grep -Pv 'MIN_ROLL'
const cong_min_max_rollnums=[
	["1","House","1","109"],
	["1","Senate","1","100"],
	["2","House","1","102"],
	["2","Senate","1","52"],
	["3","House","1","69"],
	["3","Senate","1","79"],
	["4","House","1","83"],
	["4","Senate","1","86"],
	["5","House","1","155"],
	["5","Senate","1","202"],
	["6","House","1","96"],
	["6","Senate","1","120"],
	["7","House","1","142"],
	["7","Senate","1","88"],
	["8","House","1","132"],
	["8","Senate","1","150"],
	["9","House","1","158"],
	["9","Senate","1","88"],
	["10","House","1","237"],
	["10","Senate","1","91"],
	["11","House","1","293"],
	["11","Senate","1","167"],
	["12","House","1","314"],
	["12","Senate","1","204"],
	["13","House","1","352"],
	["13","Senate","1","263"],
	["14","House","1","113"],
	["14","Senate","1","189"],
	["15","House","1","106"],
	["15","Senate","1","132"],
	["16","House","1","147"],
	["16","Senate","1","120"],
	["17","House","1","95"],
	["17","Senate","1","91"],
	["18","House","1","94"],
	["18","Senate","1","178"],
	["19","House","1","111"],
	["19","Senate","1","234"],
	["20","House","1","233"],
	["20","Senate","1","238"],
	["21","House","1","273"],
	["21","Senate","1","277"],
	["22","House","1","462"],
	["22","Senate","1","422"],
	["23","House","1","327"],
	["23","Senate","1","229"],
	["24","House","1","459"],
	["24","Senate","1","439"],
	["25","House","1","475"],
	["25","Senate","1","410"],
	["26","House","1","751"],
	["26","Senate","1","334"],
	["27","House","1","974"],
	["27","Senate","1","822"],
	["28","House","1","597"],
	["28","Senate","1","305"],
	["29","House","1","642"],
	["29","Senate","1","383"],
	["30","House","1","478"],
	["30","Senate","1","344"],
	["31","House","1","572"],
	["31","Senate","1","499"],
	["32","House","1","455"],
	["32","Senate","1","358"],
	["33","House","1","607"],
	["33","Senate","1","546"],
	["34","House","1","729"],
	["34","Senate","1","449"],
	["35","House","1","548"],
	["35","Senate","1","702"],
	["36","House","1","433"],
	["36","Senate","1","607"],
	["37","House","1","638"],
	["37","Senate","1","801"],
	["38","House","1","600"],
	["38","Senate","1","598"],
	["39","House","1","613"],
	["39","Senate","1","501"],
	["40","House","1","717"],
	["40","Senate","1","716"],
	["41","House","1","634"],
	["41","Senate","1","742"],
	["42","House","1","517"],
	["42","Senate","1","803"],
	["43","House","1","475"],
	["43","Senate","1","420"],
	["44","House","1","328"],
	["44","Senate","1","434"],
	["45","House","1","377"],
	["45","Senate","1","585"],
	["46","House","1","439"],
	["46","Senate","1","570"],
	["47","House","1","349"],
	["47","Senate","1","986"],
	["48","House","1","334"],
	["48","Senate","1","428"],
	["49","House","1","306"],
	["49","Senate","1","461"],
	["50","House","1","320"],
	["50","Senate","1","389"],
	["51","House","1","587"],
	["51","Senate","1","526"],
	["52","House","1","304"],
	["52","Senate","1","209"],
	["53","House","1","373"],
	["53","Senate","1","561"],
	["54","House","1","162"],
	["54","Senate","1","197"],
	["55","House","1","183"],
	["55","Senate","1","381"],
	["56","House","1","149"],
	["56","Senate","1","169"],
	["57","House","1","185"],
	["57","Senate","1","118"],
	["58","House","1","87"],
	["58","Senate","1","92"],
	["59","House","1","136"],
	["59","Senate","1","128"],
	["60","House","1","312"],
	["60","Senate","1","84"],
	["61","House","1","202"],
	["61","Senate","1","268"],
	["62","House","1","262"],
	["62","Senate","1","396"],
	["63","House","1","282"],
	["63","Senate","1","572"],
	["64","House","1","157"],
	["64","Senate","1","406"],
	["65","House","1","266"],
	["65","Senate","1","384"],
	["66","House","1","339"],
	["66","Senate","1","407"],
	["67","House","1","362"],
	["67","Senate","1","751"],
	["68","House","1","179"],
	["68","Senate","1","235"],
	["69","House","1","114"],
	["69","Senate","1","236"],
	["70","House","1","72"],
	["70","Senate","1","191"],
	["71","House","1","103"],
	["71","Senate","1","436"],
	["72","House","1","123"],
	["72","Senate","1","280"],
	["73","House","1","143"],
	["73","Senate","1","228"],
	["74","House","1","212"],
	["74","Senate","1","193"],
	["75","House","1","158"],
	["75","Senate","1","174"],
	["76","House","1","227"],
	["76","Senate","1","266"],
	["77","House","1","152"],
	["77","Senate","1","192"],
	["78","House","1","156"],
	["78","Senate","1","220"],
	["79","House","1","231"],
	["79","Senate","1","244"],
	["80","House","1","163"],
	["80","Senate","1","248"],
	["81","House","1","275"],
	["81","Senate","1","455"],
	["82","House","1","181"],
	["82","Senate","1","313"],
	["83","House","1","147"],
	["83","Senate","1","271"],
	["84","House","1","149"],
	["84","Senate","1","217"],
	["85","House","1","193"],
	["85","Senate","1","307"],
	["86","House","1","180"],
	["86","Senate","1","422"],
	["87","House","1","240"],
	["87","Senate","1","428"],
	["88","House","1","232"],
	["88","Senate","1","534"],
	["89","House","1","394"],
	["89","Senate","1","497"],
	["90","House","1","478"],
	["90","Senate","1","596"],
	["91","House","1","443"],
	["91","Senate","1","666"],
	["92","House","1","649"],
	["92","Senate","1","955"],
	["93","House","1","1078"],
	["93","Senate","1","1138"],
	["94","House","1","1273"],
	["94","Senate","1","1311"],
	["95","House","1","1540"],
	["95","Senate","1","1156"],
	["96","House","1","1276"],
	["96","Senate","1","1054"],
	["97","House","1","812"],
	["97","Senate","1","966"],
	["98","House","1","906"],
	["98","Senate","1","663"],
	["99","House","1","890"],
	["99","Senate","1","740"],
	["100","House","1","939"],
	["100","Senate","1","799"],
	["101","House","1","879"],
	["101","Senate","1","638"],
	["102","House","1","901"],
	["102","Senate","1","550"],
	["103","House","1","1094"],
	["103","Senate","1","724"],
	["104","House","1","1321"],
	["104","Senate","1","919"],
	["105","House","1","1166"],
	["105","Senate","1","612"],
	["106","House","1","1209"],
	["106","Senate","1","672"],
	["107","House","1","990"],
	["107","Senate","1","633"],
	["108","House","1","1218"],
	["108","Senate","1","675"],
	["109","House","1","1210"],
	["109","Senate","1","645"],
	["110","House","1","1865"],
	["110","Senate","1","657"],
	["111","House","1","1647"],
	["111","Senate","1","696"],
	["112","House","1","1602"],
	["112","Senate","1","486"],
	["113","House","1","1202"],
	["113","Senate","1","657"],
	["114","House","1","1322"],
	["114","Senate","1","502"],
	["115","House","1","1207"],
	["115","Senate","1","599"],
	["116","House","1","808"],
	["116","Senate","1","530"]
	];


var ordinalNum=function(d)
	{
	d=""+d+"";
	ew_obj={
		"1":"st",
		"2":"nd",
		"3":"rd"
		}
	for(const [key, value] of Object.entries(ew_obj))
		{
		if(d.endsWith(key)) {
			return d+value;
			}
		}
	if(d=="0")
		{
		return d;
		}
	else
		{
		return d+"th";
		}
	}


var getMMRollCallSelectionDDFromGivenCongress=function(cong_int,chamber)
	{
	var fchamber="";
	if(chamber.toLowerCase()=="senate")
		{
		fchamber="Senate";
		}
	else
		{
		fchamber="House";
		}
	var targetCMM=cong_min_max_rollnums.filter(function(d)
		{
		var cong=parseInt(d[0]);
		var chamb=d[1];
		if(cong==cong_int && chamb==fchamber)
			{
			return true;
			}
		return false;
		});
	//console.log("in get MM For cong_int = "+cong_int+" and chamber = "+chamber+", the filtered is "+targetCMM);
	if(targetCMM.length!=1)
		{
		alert("Error in acquiring number roll calls for congress "+cong_int+" in the "+chamber);
		return [-1,-1];
		}
	else
		{
		var min_roll=parseInt(targetCMM[0][2]);
		var max_roll=parseInt(targetCMM[0][3]);
		return [min_roll,max_roll];
		}
	}

